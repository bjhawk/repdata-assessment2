
Impact of Hydro-Meteorological Events
=====================================
## US Storm Data, 1950-2011


### Synopsis:  
The impact of a storm can range from insignificant to immense. In this document we attempt to take a cursory glance through what might be the most impactful storm types according to all the data the NOAA has to offer from 1950 through 2011.
  

### Data Processing:
To begin with, our data comes in the form of a rather large Comma Separated Value file. Roughly half a gigabyte, this file contains just over 900 thousand observations, spaning more than 60 years. The data for the last 20 or 30 years is considerably, and understandably, more complete than the years prior. This data is available from the [NOAA Storm Events Database](http://www.ncdc.noaa.gov/stormevents/ftp.jsp) in CSV files separated by year. Our dataset is presented as a conglomerate of all the data from the years mentioned above.  



To begin with we will need to take the data from it's raw text form and bring it into R
to start our analysis. We will be using the `data.table` package to make our processing
faster after our initial read.  
You'll note I'm using the `base` packages' `read.csv()` function and then immediately
turning that `data.frame` into a `data.table`. This is because there is a known and
tracked bug when using `fread` to read .csv files that have irregular usage of commas
inside escaped blocks of text. That being said, the method below only takes a fractional
amount of time more and will yeild considerably faster processing below:  

```r
library(data.table)
data <- data.table(read.csv('stormdata.csv'))
```

Next, we will begin the actual processing of our data. First, we are going to convert
the data that corresponds with the fiscal impact of an event into whole numbers.
Having seen the original data, there seems to be some mis-translation of the original
numbers into the form our current csv file has. We will be doing our best to accomodate
and take only what we know for certain at face value:  

```r
# First we'll give ourselves something like a row number to work our data with
data[,r:=1:.N]
```

```
##         STATE__           BGN_DATE    BGN_TIME TIME_ZONE COUNTY
##      1:       1  4/18/1950 0:00:00        0130       CST     97
##      2:       1  4/18/1950 0:00:00        0145       CST      3
##      3:       1  2/20/1951 0:00:00        1600       CST     57
##      4:       1   6/8/1951 0:00:00        0900       CST     89
##      5:       1 11/15/1951 0:00:00        1500       CST     43
##     ---                                                        
## 902293:      56 11/30/2011 0:00:00 10:30:00 PM       MST      7
## 902294:      30 11/10/2011 0:00:00 02:48:00 PM       MST      9
## 902295:       2  11/8/2011 0:00:00 02:58:00 PM       AKS    213
## 902296:       2  11/9/2011 0:00:00 10:21:00 AM       AKS    202
## 902297:       1 11/28/2011 0:00:00 08:00:00 PM       CST      6
##           COUNTYNAME STATE     EVTYPE BGN_RANGE BGN_AZI BGN_LOCATI
##      1:       MOBILE    AL    TORNADO         0                   
##      2:      BALDWIN    AL    TORNADO         0                   
##      3:      FAYETTE    AL    TORNADO         0                   
##      4:      MADISON    AL    TORNADO         0                   
##      5:      CULLMAN    AL    TORNADO         0                   
##     ---                                                           
## 902293: WYZ007 - 017    WY  HIGH WIND         0                   
## 902294: MTZ009 - 010    MT  HIGH WIND         0                   
## 902295:       AKZ213    AK  HIGH WIND         0                   
## 902296:       AKZ202    AK   BLIZZARD         0                   
## 902297:       ALZ006    AL HEAVY SNOW         0                   
##                   END_DATE    END_TIME COUNTY_END COUNTYENDN END_RANGE
##      1:                                         0         NA         0
##      2:                                         0         NA         0
##      3:                                         0         NA         0
##      4:                                         0         NA         0
##      5:                                         0         NA         0
##     ---                                                               
## 902293: 11/30/2011 0:00:00 10:30:00 PM          0         NA         0
## 902294: 11/10/2011 0:00:00 02:48:00 PM          0         NA         0
## 902295:  11/9/2011 0:00:00 01:15:00 PM          0         NA         0
## 902296:  11/9/2011 0:00:00 05:00:00 PM          0         NA         0
## 902297: 11/29/2011 0:00:00 04:00:00 AM          0         NA         0
##         END_AZI END_LOCATI LENGTH WIDTH  F MAG FATALITIES INJURIES PROPDMG
##      1:                      14.0   100  3   0          0       15    25.0
##      2:                       2.0   150  2   0          0        0     2.5
##      3:                       0.1   123  2   0          0        2    25.0
##      4:                       0.0   100  2   0          0        2     2.5
##      5:                       0.0   150  2   0          0        2     2.5
##     ---                                                                   
## 902293:                       0.0     0 NA  66          0        0     0.0
## 902294:                       0.0     0 NA  52          0        0     0.0
## 902295:                       0.0     0 NA  81          0        0     0.0
## 902296:                       0.0     0 NA   0          0        0     0.0
## 902297:                       0.0     0 NA   0          0        0     0.0
##         PROPDMGEXP CROPDMG CROPDMGEXP WFO                STATEOFFIC
##      1:          K       0                                         
##      2:          K       0                                         
##      3:          K       0                                         
##      4:          K       0                                         
##      5:          K       0                                         
##     ---                                                            
## 902293:          K       0          K RIW WYOMING, Central and West
## 902294:          K       0          K TFX          MONTANA, Central
## 902295:          K       0          K AFG          ALASKA, Northern
## 902296:          K       0          K AFG          ALASKA, Northern
## 902297:          K       0          K HUN            ALABAMA, North
##                                                                                ZONENAMES
##      1:                                                                                 
##      2:                                                                                 
##      3:                                                                                 
##      4:                                                                                 
##      5:                                                                                 
##     ---                                                                                 
## 902293: OWL CREEK & BRIDGER MOUNTAINS - OWL CREEK & BRIDGER MOUNTAINS - WIND RIVER BASIN
## 902294:        NORTH ROCKY MOUNTAIN FRONT - NORTH ROCKY MOUNTAIN FRONT - EASTERN GLACIER
## 902295:                    ST LAWRENCE IS. BERING STRAIT - ST LAWRENCE IS. BERING STRAIT
## 902296:                                    NORTHERN ARCTIC COAST - NORTHERN ARCTIC COAST
## 902297:                                                                MADISON - MADISON
##         LATITUDE LONGITUDE LATITUDE_E LONGITUDE_
##      1:     3040      8812       3051       8806
##      2:     3042      8755          0          0
##      3:     3340      8742          0          0
##      4:     3458      8626          0          0
##      5:     3412      8642          0          0
##     ---                                         
## 902293:        0         0          0          0
## 902294:        0         0          0          0
## 902295:        0         0          0          0
## 902296:        0         0          0          0
## 902297:        0         0          0          0
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         REMARKS
##      1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      5:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##     ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
## 902293:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           EPISODE NARRATIVE: A strong cold front moved south through north central Wyoming bringing high wind to the Meeteetse area and along the south slopes of the western Owl Creek Range. Wind gusts to 76 mph were recorded at Madden Reservoir.EVENT NARRATIVE: 
## 902294:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      EPISODE NARRATIVE: A strong westerly flow aloft produced gusty winds at the surface along the Rocky Mountain front and over the plains of Central Montana. Wind gusts in excess of 60 mph were reported.EVENT NARRATIVE: A wind gust to 60 mph was reported at East Glacier Park 1ENE (the Two Medicine DOT site).
## 902295: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902296: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902297:                           EPISODE NARRATIVE: An intense upper level low developed on the 28th at the base of a highly amplified upper trough across the Great Lakes and Mississippi Valley.  The upper low closed off over the mid South and tracked northeast across the Tennessee Valley during the morning of the 29th.   A warm conveyor belt of heavy rainfall developed in advance of the low which dumped from around 2 to over 5 inches of rain across the eastern two thirds of north Alabama and middle Tennessee.  The highest rain amounts were recorded in Jackson and DeKalb Counties with 3 to 5 inches.  The rain fell over 24 to 36 hour period, with rainfall remaining light to moderate during most its duration.  The rainfall resulted in minor river flooding along the Little River, Big Wills Creek and Paint Rock.   A landslide occurred on Highway 35 just north of Section in Jackson County.  A driver was trapped in his vehicle, but was rescued unharmed.  Trees, boulders and debris blocked 100 to 250 yards of Highway 35.\n\nThe rain mixed with and changed to snow across north Alabama during the afternoon and  evening hours of the 28th, and lasted into the 29th.  The heaviest bursts of snow occurred in northwest Alabama during the afternoon and evening hours, and in north central and northeast Alabama during the overnight and morning hours.  Since ground temperatures were in the 50s, and air temperatures in valley areas only dropped into the mid 30s, most of the snowfall melted on impact with mostly trace amounts reported in valley locations.  However, above 1500 foot elevation, snow accumulations of 1 to 2 inches were reported.  The heaviest amount was 2.3 inches on Monte Sano Mountain, about 5 miles northeast of Huntsville.EVENT NARRATIVE: Snowfall accumulations of up to 2.3 inches were reported on the higher elevations of eastern Madison County.  A snow accumulation of 1.5 inches was reported 2.7 miles south of Gurley, while 2.3 inches was reported 3 miles east of Huntsville atop Monte Sano Mountain.
##         REFNUM      r
##      1:      1      1
##      2:      2      2
##      3:      3      3
##      4:      4      4
##      5:      5      5
##     ---              
## 902293: 902293 902293
## 902294: 902294 902294
## 902295: 902295 902295
## 902296: 902296 902296
## 902297: 902297 902297
```

```r
# Each of the blocks below follow the same functionality.
# Loop through all values of a given variable (PROPDMG or CROPDMG), and
# use the data in the corresponding "*EXP" variable to convert that into
# a whole number. If a number is NA, we are going to record it as 0, this has
# not been found to skew our results at all. If the exponent recorded is not
# one of a clearly defined few (this is where that uncertainty I mentioned  from
# the original data sources comes in) we are going to just take the value as it is.
data[,PROPDMG:={
    if (PROPDMGEXP == 'b' | PROPDMGEXP =='B') {
        PROPDMG*1000000000
    } else if (PROPDMGEXP == 'm' | PROPDMGEXP =='M') {
        PROPDMG*1000000
    } else if (PROPDMGEXP == 'k' | PROPDMGEXP =='K') {
        PROPDMG*1000
    } else if (PROPDMGEXP == 'h' | PROPDMGEXP == 'H') {
        PROPDMG*100
    } else if (is.na(PROPDMG)) {
        0
    } else {
        PROPDMG
    }
},by=r]
```

```
##         STATE__           BGN_DATE    BGN_TIME TIME_ZONE COUNTY   COUNTYNAME STATE
##      1:       1  4/18/1950 0:00:00        0130       CST     97       MOBILE    AL
##      2:       1  4/18/1950 0:00:00        0145       CST      3      BALDWIN    AL
##      3:       1  2/20/1951 0:00:00        1600       CST     57      FAYETTE    AL
##      4:       1   6/8/1951 0:00:00        0900       CST     89      MADISON    AL
##      5:       1 11/15/1951 0:00:00        1500       CST     43      CULLMAN    AL
##     ---                                                                           
## 902293:      56 11/30/2011 0:00:00 10:30:00 PM       MST      7 WYZ007 - 017    WY
## 902294:      30 11/10/2011 0:00:00 02:48:00 PM       MST      9 MTZ009 - 010    MT
## 902295:       2  11/8/2011 0:00:00 02:58:00 PM       AKS    213       AKZ213    AK
## 902296:       2  11/9/2011 0:00:00 10:21:00 AM       AKS    202       AKZ202    AK
## 902297:       1 11/28/2011 0:00:00 08:00:00 PM       CST      6       ALZ006    AL
##             EVTYPE BGN_RANGE BGN_AZI BGN_LOCATI           END_DATE    END_TIME COUNTY_END
##      1:    TORNADO         0                                                            0
##      2:    TORNADO         0                                                            0
##      3:    TORNADO         0                                                            0
##      4:    TORNADO         0                                                            0
##      5:    TORNADO         0                                                            0
##     ---                                                                                  
## 902293:  HIGH WIND         0                    11/30/2011 0:00:00 10:30:00 PM          0
## 902294:  HIGH WIND         0                    11/10/2011 0:00:00 02:48:00 PM          0
## 902295:  HIGH WIND         0                     11/9/2011 0:00:00 01:15:00 PM          0
## 902296:   BLIZZARD         0                     11/9/2011 0:00:00 05:00:00 PM          0
## 902297: HEAVY SNOW         0                    11/29/2011 0:00:00 04:00:00 AM          0
##         COUNTYENDN END_RANGE END_AZI END_LOCATI LENGTH WIDTH  F MAG FATALITIES INJURIES
##      1:         NA         0                      14.0   100  3   0          0       15
##      2:         NA         0                       2.0   150  2   0          0        0
##      3:         NA         0                       0.1   123  2   0          0        2
##      4:         NA         0                       0.0   100  2   0          0        2
##      5:         NA         0                       0.0   150  2   0          0        2
##     ---                                                                                
## 902293:         NA         0                       0.0     0 NA  66          0        0
## 902294:         NA         0                       0.0     0 NA  52          0        0
## 902295:         NA         0                       0.0     0 NA  81          0        0
## 902296:         NA         0                       0.0     0 NA   0          0        0
## 902297:         NA         0                       0.0     0 NA   0          0        0
##         PROPDMG PROPDMGEXP CROPDMG CROPDMGEXP WFO                STATEOFFIC
##      1:   25000          K       0                                         
##      2:    2500          K       0                                         
##      3:   25000          K       0                                         
##      4:    2500          K       0                                         
##      5:    2500          K       0                                         
##     ---                                                                    
## 902293:       0          K       0          K RIW WYOMING, Central and West
## 902294:       0          K       0          K TFX          MONTANA, Central
## 902295:       0          K       0          K AFG          ALASKA, Northern
## 902296:       0          K       0          K AFG          ALASKA, Northern
## 902297:       0          K       0          K HUN            ALABAMA, North
##                                                                                ZONENAMES
##      1:                                                                                 
##      2:                                                                                 
##      3:                                                                                 
##      4:                                                                                 
##      5:                                                                                 
##     ---                                                                                 
## 902293: OWL CREEK & BRIDGER MOUNTAINS - OWL CREEK & BRIDGER MOUNTAINS - WIND RIVER BASIN
## 902294:        NORTH ROCKY MOUNTAIN FRONT - NORTH ROCKY MOUNTAIN FRONT - EASTERN GLACIER
## 902295:                    ST LAWRENCE IS. BERING STRAIT - ST LAWRENCE IS. BERING STRAIT
## 902296:                                    NORTHERN ARCTIC COAST - NORTHERN ARCTIC COAST
## 902297:                                                                MADISON - MADISON
##         LATITUDE LONGITUDE LATITUDE_E LONGITUDE_
##      1:     3040      8812       3051       8806
##      2:     3042      8755          0          0
##      3:     3340      8742          0          0
##      4:     3458      8626          0          0
##      5:     3412      8642          0          0
##     ---                                         
## 902293:        0         0          0          0
## 902294:        0         0          0          0
## 902295:        0         0          0          0
## 902296:        0         0          0          0
## 902297:        0         0          0          0
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         REMARKS
##      1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      5:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##     ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
## 902293:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           EPISODE NARRATIVE: A strong cold front moved south through north central Wyoming bringing high wind to the Meeteetse area and along the south slopes of the western Owl Creek Range. Wind gusts to 76 mph were recorded at Madden Reservoir.EVENT NARRATIVE: 
## 902294:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      EPISODE NARRATIVE: A strong westerly flow aloft produced gusty winds at the surface along the Rocky Mountain front and over the plains of Central Montana. Wind gusts in excess of 60 mph were reported.EVENT NARRATIVE: A wind gust to 60 mph was reported at East Glacier Park 1ENE (the Two Medicine DOT site).
## 902295: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902296: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902297:                           EPISODE NARRATIVE: An intense upper level low developed on the 28th at the base of a highly amplified upper trough across the Great Lakes and Mississippi Valley.  The upper low closed off over the mid South and tracked northeast across the Tennessee Valley during the morning of the 29th.   A warm conveyor belt of heavy rainfall developed in advance of the low which dumped from around 2 to over 5 inches of rain across the eastern two thirds of north Alabama and middle Tennessee.  The highest rain amounts were recorded in Jackson and DeKalb Counties with 3 to 5 inches.  The rain fell over 24 to 36 hour period, with rainfall remaining light to moderate during most its duration.  The rainfall resulted in minor river flooding along the Little River, Big Wills Creek and Paint Rock.   A landslide occurred on Highway 35 just north of Section in Jackson County.  A driver was trapped in his vehicle, but was rescued unharmed.  Trees, boulders and debris blocked 100 to 250 yards of Highway 35.\n\nThe rain mixed with and changed to snow across north Alabama during the afternoon and  evening hours of the 28th, and lasted into the 29th.  The heaviest bursts of snow occurred in northwest Alabama during the afternoon and evening hours, and in north central and northeast Alabama during the overnight and morning hours.  Since ground temperatures were in the 50s, and air temperatures in valley areas only dropped into the mid 30s, most of the snowfall melted on impact with mostly trace amounts reported in valley locations.  However, above 1500 foot elevation, snow accumulations of 1 to 2 inches were reported.  The heaviest amount was 2.3 inches on Monte Sano Mountain, about 5 miles northeast of Huntsville.EVENT NARRATIVE: Snowfall accumulations of up to 2.3 inches were reported on the higher elevations of eastern Madison County.  A snow accumulation of 1.5 inches was reported 2.7 miles south of Gurley, while 2.3 inches was reported 3 miles east of Huntsville atop Monte Sano Mountain.
##         REFNUM      r
##      1:      1      1
##      2:      2      2
##      3:      3      3
##      4:      4      4
##      5:      5      5
##     ---              
## 902293: 902293 902293
## 902294: 902294 902294
## 902295: 902295 902295
## 902296: 902296 902296
## 902297: 902297 902297
```

```r
data[,CROPDMG:={
    if (CROPDMGEXP == 'b' | CROPDMGEXP =='B') {
        CROPDMG*1000000000
    } else if (PROPDMGEXP == 'm' | CROPDMGEXP =='M') {
        CROPDMG*1000000
    } else if (PROPDMGEXP == 'k' | CROPDMGEXP =='K') {
        CROPDMG*1000
    } else if (PROPDMGEXP == 'h' | PROPDMGEXP == 'H') {
        PROPDMG*100
    } else if (is.na(CROPDMG)) {
        0
    } else {
        CROPDMG
    }
},by=r]
```

```
##         STATE__           BGN_DATE    BGN_TIME TIME_ZONE COUNTY   COUNTYNAME STATE
##      1:       1  4/18/1950 0:00:00        0130       CST     97       MOBILE    AL
##      2:       1  4/18/1950 0:00:00        0145       CST      3      BALDWIN    AL
##      3:       1  2/20/1951 0:00:00        1600       CST     57      FAYETTE    AL
##      4:       1   6/8/1951 0:00:00        0900       CST     89      MADISON    AL
##      5:       1 11/15/1951 0:00:00        1500       CST     43      CULLMAN    AL
##     ---                                                                           
## 902293:      56 11/30/2011 0:00:00 10:30:00 PM       MST      7 WYZ007 - 017    WY
## 902294:      30 11/10/2011 0:00:00 02:48:00 PM       MST      9 MTZ009 - 010    MT
## 902295:       2  11/8/2011 0:00:00 02:58:00 PM       AKS    213       AKZ213    AK
## 902296:       2  11/9/2011 0:00:00 10:21:00 AM       AKS    202       AKZ202    AK
## 902297:       1 11/28/2011 0:00:00 08:00:00 PM       CST      6       ALZ006    AL
##             EVTYPE BGN_RANGE BGN_AZI BGN_LOCATI           END_DATE    END_TIME COUNTY_END
##      1:    TORNADO         0                                                            0
##      2:    TORNADO         0                                                            0
##      3:    TORNADO         0                                                            0
##      4:    TORNADO         0                                                            0
##      5:    TORNADO         0                                                            0
##     ---                                                                                  
## 902293:  HIGH WIND         0                    11/30/2011 0:00:00 10:30:00 PM          0
## 902294:  HIGH WIND         0                    11/10/2011 0:00:00 02:48:00 PM          0
## 902295:  HIGH WIND         0                     11/9/2011 0:00:00 01:15:00 PM          0
## 902296:   BLIZZARD         0                     11/9/2011 0:00:00 05:00:00 PM          0
## 902297: HEAVY SNOW         0                    11/29/2011 0:00:00 04:00:00 AM          0
##         COUNTYENDN END_RANGE END_AZI END_LOCATI LENGTH WIDTH  F MAG FATALITIES INJURIES
##      1:         NA         0                      14.0   100  3   0          0       15
##      2:         NA         0                       2.0   150  2   0          0        0
##      3:         NA         0                       0.1   123  2   0          0        2
##      4:         NA         0                       0.0   100  2   0          0        2
##      5:         NA         0                       0.0   150  2   0          0        2
##     ---                                                                                
## 902293:         NA         0                       0.0     0 NA  66          0        0
## 902294:         NA         0                       0.0     0 NA  52          0        0
## 902295:         NA         0                       0.0     0 NA  81          0        0
## 902296:         NA         0                       0.0     0 NA   0          0        0
## 902297:         NA         0                       0.0     0 NA   0          0        0
##         PROPDMG PROPDMGEXP CROPDMG CROPDMGEXP WFO                STATEOFFIC
##      1:   25000          K       0                                         
##      2:    2500          K       0                                         
##      3:   25000          K       0                                         
##      4:    2500          K       0                                         
##      5:    2500          K       0                                         
##     ---                                                                    
## 902293:       0          K       0          K RIW WYOMING, Central and West
## 902294:       0          K       0          K TFX          MONTANA, Central
## 902295:       0          K       0          K AFG          ALASKA, Northern
## 902296:       0          K       0          K AFG          ALASKA, Northern
## 902297:       0          K       0          K HUN            ALABAMA, North
##                                                                                ZONENAMES
##      1:                                                                                 
##      2:                                                                                 
##      3:                                                                                 
##      4:                                                                                 
##      5:                                                                                 
##     ---                                                                                 
## 902293: OWL CREEK & BRIDGER MOUNTAINS - OWL CREEK & BRIDGER MOUNTAINS - WIND RIVER BASIN
## 902294:        NORTH ROCKY MOUNTAIN FRONT - NORTH ROCKY MOUNTAIN FRONT - EASTERN GLACIER
## 902295:                    ST LAWRENCE IS. BERING STRAIT - ST LAWRENCE IS. BERING STRAIT
## 902296:                                    NORTHERN ARCTIC COAST - NORTHERN ARCTIC COAST
## 902297:                                                                MADISON - MADISON
##         LATITUDE LONGITUDE LATITUDE_E LONGITUDE_
##      1:     3040      8812       3051       8806
##      2:     3042      8755          0          0
##      3:     3340      8742          0          0
##      4:     3458      8626          0          0
##      5:     3412      8642          0          0
##     ---                                         
## 902293:        0         0          0          0
## 902294:        0         0          0          0
## 902295:        0         0          0          0
## 902296:        0         0          0          0
## 902297:        0         0          0          0
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         REMARKS
##      1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##      5:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##     ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
## 902293:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           EPISODE NARRATIVE: A strong cold front moved south through north central Wyoming bringing high wind to the Meeteetse area and along the south slopes of the western Owl Creek Range. Wind gusts to 76 mph were recorded at Madden Reservoir.EVENT NARRATIVE: 
## 902294:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      EPISODE NARRATIVE: A strong westerly flow aloft produced gusty winds at the surface along the Rocky Mountain front and over the plains of Central Montana. Wind gusts in excess of 60 mph were reported.EVENT NARRATIVE: A wind gust to 60 mph was reported at East Glacier Park 1ENE (the Two Medicine DOT site).
## 902295: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902296: EPISODE NARRATIVE: A 960 mb low over the southern Aleutians at 0300AKST on the 8th intensified to 945 mb near the Gulf of Anadyr by 2100AKST on the 8th. The low crossed the Chukotsk Peninsula as a 956 mb low at 0900AKST on the 9th, and moved into the southern Chukchi Sea as a 958 mb low by 2100AKST on the 9th. The low then tracked to the northwest and weakened to 975 mb about 150 miles north of Wrangel Island by 1500AKST on the 10th. The storm was one of the strongest storms to impact the west coast of Alaska since November 1974. \n\nZone 201: Blizzard conditions were observed at Wainwright from approximately 1153AKST through 1611AKST on the 9th. The visibility was frequently reduced to one quarter mile in snow and blowing snow. There was a peak wind gust to 43kt (50 mph) at the Wainwright ASOS. During this event, there was also a peak wind gust to \n68 kt (78 mph) at the Cape Lisburne AWOS. \n\nZone 202: Blizzard conditions were observed at Barrow from approximately 1021AKST through 1700AKST on the 9th. The visibility was frequently reduced to one quarter mile or less in blowing snow. There was a peak wind gust to 46 kt (53 mph) at the Barrow ASOS. \n\nZone 207: Blizzard conditions were observed at Kivalina from approximately 0400AKST through 1230AKST on the 9th. The visibility was frequently reduced to one quarter of a mile in snow and blowing snow. There was a peak wind gust to 61 kt (70 mph) at the Kivalina ASOS.  The doors to the village transportation shed were blown out to sea.  Many homes lost portions of their tin roofing, and satellite dishes were ripped off of roofs. One home had its door blown off.  At Point Hope, severe blizzard conditions were observed. There was a peak wind gust of 68 kt (78 mph) at the Point Hope AWOS before power was lost to the AWOS. It was estimated that the wind gusted as high as 85 mph in the village during the height of the storm during the morning and early afternoon hours on the 9th. Five power poles were knocked down in the storm EVENT NARRATIVE: 
## 902297:                           EPISODE NARRATIVE: An intense upper level low developed on the 28th at the base of a highly amplified upper trough across the Great Lakes and Mississippi Valley.  The upper low closed off over the mid South and tracked northeast across the Tennessee Valley during the morning of the 29th.   A warm conveyor belt of heavy rainfall developed in advance of the low which dumped from around 2 to over 5 inches of rain across the eastern two thirds of north Alabama and middle Tennessee.  The highest rain amounts were recorded in Jackson and DeKalb Counties with 3 to 5 inches.  The rain fell over 24 to 36 hour period, with rainfall remaining light to moderate during most its duration.  The rainfall resulted in minor river flooding along the Little River, Big Wills Creek and Paint Rock.   A landslide occurred on Highway 35 just north of Section in Jackson County.  A driver was trapped in his vehicle, but was rescued unharmed.  Trees, boulders and debris blocked 100 to 250 yards of Highway 35.\n\nThe rain mixed with and changed to snow across north Alabama during the afternoon and  evening hours of the 28th, and lasted into the 29th.  The heaviest bursts of snow occurred in northwest Alabama during the afternoon and evening hours, and in north central and northeast Alabama during the overnight and morning hours.  Since ground temperatures were in the 50s, and air temperatures in valley areas only dropped into the mid 30s, most of the snowfall melted on impact with mostly trace amounts reported in valley locations.  However, above 1500 foot elevation, snow accumulations of 1 to 2 inches were reported.  The heaviest amount was 2.3 inches on Monte Sano Mountain, about 5 miles northeast of Huntsville.EVENT NARRATIVE: Snowfall accumulations of up to 2.3 inches were reported on the higher elevations of eastern Madison County.  A snow accumulation of 1.5 inches was reported 2.7 miles south of Gurley, while 2.3 inches was reported 3 miles east of Huntsville atop Monte Sano Mountain.
##         REFNUM      r
##      1:      1      1
##      2:      2      2
##      3:      3      3
##      4:      4      4
##      5:      5      5
##     ---              
## 902293: 902293 902293
## 902294: 902294 902294
## 902295: 902295 902295
## 902296: 902296 902296
## 902297: 902297 902297
```


```r
#cost
# Calculate total and average data for each of the following statistics
# Damage (in dollars), Injuries (# people), Fatalities (# people)
data.by.type <- data[,
                     list(
                         sum(PROPDMG+CROPDMG),
                         round(mean(PROPDMG+CROPDMG),digits=0),
                         sum(INJURIES),
                         round(mean(INJURIES), digits=1),
                         sum(FATALITIES),
                         round(mean(FATALITIES), digits=1),
                         .N),
                     by=EVTYPE]
setnames(data.by.type, c('EVTYPE','SUMDMG','AVGDMG','SUMINJ', 'AVGINJ', 'SUMFAT', 'AVGFAT', 'COUNT'))
```
